---
title: JavaScript高级程序设计-8-引用类型2-RegExp/Function/包装类型/内置单例对象
categories: js
tags:
  - js
  - js-pro
date: 2016-08-08 17:37:19
updated:
---

接上篇[JavaScript高级程序设计-7-引用类型1-Object/Array/Date](/2016/08/08/js-pro7)

### RegExp类型
ES通过RegExp类型支持正则表达式，创建正则表达式语法如下：
```js
var expression = new RegExp("pattern", "flags"); // 构造函数方式, 参数的都是字符串

var expression = /pattern/flags; // 字面量语法
```
其中pattern(模式)部分是正则表达式，可以包含字符类、限定符、分组、向前查找、反向引用。每个正则表达式都可以可带一个或多个标志（flags），用以标明正则表达式的行为。正则表达式的匹配模式支持下列3个标志：
- g 表示全局（global）模式，将应用于所有字符串，而非仅匹配第一项
- i 表示不区分大小写（case-insensitive）模式，在确定匹配项时忽略模式与字符串的大小写
- m 表示多行（multiline）模式，即在达到一行文本末尾时还会继续查找下一行中是否存在与模式匹配的项
标志位可以任意组合。

模式中使用的所有的**元字符**都必须转义，,这些元字符都至少1种特殊用途，因此需要转义, 正则表达式的元字符包括：`( ) [ ] { } \ ^ $ | * + .` 

由于构造函数的方式传入参数是字符串模式，所以需要对元字符进行双重转义，例如字符`\`在字符串中通常转义为`\\`,而在正则表达式字符串中就会变为`\\\\`。

ES5规定，使用正则表达式字面量必须像直接调用RegExp构造函数一样，每次创建新的RegExp实例。

#### RegExp实例属性
RegExp的每个实例都具有如下属性，通过这些属性可以获取到有关模式的各种信息：
- global 布尔值，表示是否设置了g标志
- ignoreCase 布尔值，表示是否设置了i标志
- multiline 布尔值，表示是否设置了m标志
- lastIndex 整数，表示开始搜索下一个匹配项的字符位置，从0起
- source 返回正则表达式的字符串表示（字面量模式形式，而非传入构造函数中的字符串模式）

#### RegExp实例方法
RegExp对象的主要方法是exec(), 该方法专门为捕获组而设计的，exec接收一个参数，即模式的字符串形式，然后返回包含第一个匹配项信息的数组，若没有匹配项则返回null，返回的数组是Array的实例，同时包含两个额外的属性，index和input，其中，index表示匹配项在